{% extends 'base.html' %}
{% block title %}Meine Kurse{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h4 class="mb-0">Meine Kurse</h4>
  {% if current_user.role in ['teacher','admin'] %}
    <a class="btn btn-outline-primary" href="/courses/manage">Kurse verwalten</a>
  {% endif %}
</div>

{% if stars is not none %}
<div class="alert alert-info">Dein Sternestand: <strong>{{ stars }}</strong></div>
{% endif %}

<div class="row row-cols-1 row-cols-md-2 g-3">
  {% for c in courses %}
  <div class="col">
    <div class="card h-100">
      <div class="card-body">
        <h6 class="card-title">
          {{ subjects[c.subject_id].name if subjects.get(c.subject_id) else 'Fach' }}
        </h6>
        <div class="text-muted small mb-2">
          Klasse: {{ classes[c.class_id].name if classes.get(c.class_id) else c.class_id }} · Schuljahr: {{ c.school_year }}
        </div>
        <a class="btn btn-sm btn-primary" href="/courses/{{ c.id }}">Öffnen</a>
      </div>
    </div>
  </div>
  {% else %}
  <div class="col">
    <div class="alert alert-secondary">Keine Kurse gefunden.</div>
  </div>
  {% endfor %}
</div>
{% endblock %}
